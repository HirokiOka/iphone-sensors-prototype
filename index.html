<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf8'>
    <title>get sensorValues test</title>
  </head>
  <body>
    <div id='root'>
      <h2>Sensor values</h2>
      <ul>
        <li id="acl-x"></li>
        <li id="acl-y"></li>
        <li id="acl-z"></li>
      </ul>
      <p id='msg'>msg:</p>
    </div>
      <script>
        /*
        const dm = new DeviceMotionEvent('acceleration');
        window.dm.requestPermission()
          .then(response => console.log(response));

        let aclX = document.getElementById("acl-x");
        let aclY = document.getElementById("acl-y");
        let aclZ = document.getElementById("acl-z");

        window.addEventListener("devicemotion", (e) => {
          document.getElementById('msg').textContent = 'event'; 
          aclX.textContent = 'aclX:' + e.acceleration.x;
          aclY.textContent = 'aclY:' + e.acceleration.y;
          aclZ.textContent = 'aclZ:' + e.acceleration.z;
        }, true);
       */
        DeviceMotionEvent.requestPermission()
          .then(permissionState => {
            if (permissionState === 'granted') {
              window.addEventListener("devicemotion", (e) => {
                document.getElementById('msg').textContent = 'event'; 
                aclX.textContent = 'aclX:' + e.acceleration.x;
                aclY.textContent = 'aclY:' + e.acceleration.y;
                aclZ.textContent = 'aclZ:' + e.acceleration.z;
              }, true);
            }
          })
          .catch(console.error);
    </script>
  </body>
</html>
